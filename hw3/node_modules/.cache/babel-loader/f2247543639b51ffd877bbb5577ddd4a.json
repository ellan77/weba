{"ast":null,"code":"var _jsxFileName = \"/home/dmitry/Projects/weba/hw3/src/components/App/App.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { setToLocalStorage, getFromLocalStorage } from \"../../utils\";\nexport const App = () => {\n  const TOKEN_STORAGE_KEY = \"TOKEN\";\n  const key = \"82eb7c7eb6b385e06a18315ae9f5fbf5\";\n  const redirectUrl = \"http://localhost:3000\";\n  const scope = \"read\";\n  const appName = \"TrelloAppReact\";\n  const reqUrl = `https://trello.com/1/authorize?expiration=1day&name=${appName}&scope=${scope}&response_type=token&key=${key}&return_url=${redirectUrl}`;\n  let [token, setToken] = useState(\"\");\n  useEffect(() => {\n    const tokenUrl = window.location.hash.split(\"=\")[1];\n\n    if (tokenUrl) {\n      setToken(tokenUrl);\n      setToLocalStorage(TOKEN_STORAGE_KEY, token);\n    }\n\n    if (!token) {\n      const localToken = getFromLocalStorage(TOKEN_STORAGE_KEY);\n      setToken(localToken);\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, !token && React.createElement(\"a\", {\n    href: reqUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Create Trello Token\"), token && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, token));\n};","map":{"version":3,"sources":["/home/dmitry/Projects/weba/hw3/src/components/App/App.tsx"],"names":["React","useState","useEffect","setToLocalStorage","getFromLocalStorage","App","TOKEN_STORAGE_KEY","key","redirectUrl","scope","appName","reqUrl","token","setToken","tokenUrl","window","location","hash","split","localToken"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,QAAuD,aAAvD;AAEA,OAAO,MAAMC,GAAG,GAAG,MAAM;AACvB,QAAMC,iBAAyB,GAAG,OAAlC;AACA,QAAMC,GAAW,GAAG,kCAApB;AACA,QAAMC,WAAmB,GAAG,uBAA5B;AACA,QAAMC,KAAa,GAAG,MAAtB;AACA,QAAMC,OAAe,GAAG,gBAAxB;AACA,QAAMC,MAAc,GAAI,uDAAsDD,OAAQ,UAASD,KAAM,4BAA2BF,GAAI,eAAcC,WAAY,EAA9J;AAEA,MAAI,CAACI,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,QAAgB,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAzB;;AACA,QAAIJ,QAAJ,EAAc;AACZD,MAAAA,QAAQ,CAACC,QAAD,CAAR;AACAX,MAAAA,iBAAiB,CAACG,iBAAD,EAAoBM,KAApB,CAAjB;AACD;;AACD,QAAI,CAACA,KAAL,EAAY;AACV,YAAMO,UAAU,GAAGf,mBAAmB,CAACE,iBAAD,CAAtC;AACAO,MAAAA,QAAQ,CAACM,UAAD,CAAR;AACD;AACF,GAVQ,EAUN,EAVM,CAAT;AAYA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACP,KAAD,IAAU;AAAG,IAAA,IAAI,EAAED,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADb,EAEGC,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAJ,CAFZ,CADF;AAMD,CA5BM","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { setToLocalStorage, getFromLocalStorage } from \"../../utils\";\n\nexport const App = () => {\n  const TOKEN_STORAGE_KEY: string = \"TOKEN\";\n  const key: string = \"82eb7c7eb6b385e06a18315ae9f5fbf5\";\n  const redirectUrl: string = \"http://localhost:3000\";\n  const scope: string = \"read\";\n  const appName: string = \"TrelloAppReact\";\n  const reqUrl: string = `https://trello.com/1/authorize?expiration=1day&name=${appName}&scope=${scope}&response_type=token&key=${key}&return_url=${redirectUrl}`;\n\n  let [token, setToken] = useState(\"\");\n\n  useEffect(() => {\n    const tokenUrl: string = window.location.hash.split(\"=\")[1];\n    if (tokenUrl) {\n      setToken(tokenUrl);\n      setToLocalStorage(TOKEN_STORAGE_KEY, token);\n    }\n    if (!token) {\n      const localToken = getFromLocalStorage(TOKEN_STORAGE_KEY);\n      setToken(localToken);\n    }\n  }, []);\n\n  return (\n    <div>\n      {!token && <a href={reqUrl}>Create Trello Token</a>}\n      {token && <p>{token}</p>}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}