{"ast":null,"code":"var _jsxFileName = \"/home/dmitry/Projects/weba/hw3/src/components/App/App.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { setToLocalStorage, getFromLocalStorage } from \"../../utils\";\nexport const App = () => {\n  const TOKEN_STORAGE_KEY = \"TOKEN\";\n  const key = \"82eb7c7eb6b385e06a18315ae9f5fbf5\";\n  const redirectUrl = \"http://localhost:3000\";\n  const scope = \"read\";\n  const appName = \"TrelloAppReact\";\n  const reqUrl = `https://trello.com/1/authorize?expiration=1day&name=${appName}&scope=${scope}&response_type=token&key=${key}&return_url=${redirectUrl}`;\n  let [token, setToken] = useState(\"\");\n  useEffect(() => {\n    const token = window.location.hash.split(\"=\")[1];\n\n    if (token) {\n      setToken(token);\n      setToLocalStorage(TOKEN_STORAGE_KEY, token);\n    } else {\n      setToken(getFromLocalStorage(TOKEN_STORAGE_KEY));\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: reqUrl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Login with Trello\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, token));\n};","map":{"version":3,"sources":["/home/dmitry/Projects/weba/hw3/src/components/App/App.tsx"],"names":["React","useState","useEffect","setToLocalStorage","getFromLocalStorage","App","TOKEN_STORAGE_KEY","key","redirectUrl","scope","appName","reqUrl","token","setToken","window","location","hash","split"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,QAAuD,aAAvD;AAEA,OAAO,MAAMC,GAAG,GAAG,MAAM;AACvB,QAAMC,iBAAyB,GAAG,OAAlC;AACA,QAAMC,GAAW,GAAG,kCAApB;AACA,QAAMC,WAAmB,GAAG,uBAA5B;AACA,QAAMC,KAAa,GAAG,MAAtB;AACA,QAAMC,OAAe,GAAG,gBAAxB;AACA,QAAMC,MAAc,GAAI,uDAAsDD,OAAQ,UAASD,KAAM,4BAA2BF,GAAI,eAAcC,WAAY,EAA9J;AAEA,MAAI,CAACI,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,KAAa,GAAGE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAtB;;AACA,QAAIL,KAAJ,EAAW;AACTC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAT,MAAAA,iBAAiB,CAACG,iBAAD,EAAoBM,KAApB,CAAjB;AACD,KAHD,MAGO;AACLC,MAAAA,QAAQ,CAACT,mBAAmB,CAACE,iBAAD,CAApB,CAAR;AACD;AACF,GARQ,EAQN,EARM,CAAT;AAUA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAEK,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIC,KAAJ,CAFF,CADF;AAMD,CA1BM","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { setToLocalStorage, getFromLocalStorage } from \"../../utils\";\n\nexport const App = () => {\n  const TOKEN_STORAGE_KEY: string = \"TOKEN\";\n  const key: string = \"82eb7c7eb6b385e06a18315ae9f5fbf5\";\n  const redirectUrl: string = \"http://localhost:3000\";\n  const scope: string = \"read\";\n  const appName: string = \"TrelloAppReact\";\n  const reqUrl: string = `https://trello.com/1/authorize?expiration=1day&name=${appName}&scope=${scope}&response_type=token&key=${key}&return_url=${redirectUrl}`;\n\n  let [token, setToken] = useState(\"\");\n\n  useEffect(() => {\n    const token: string = window.location.hash.split(\"=\")[1];\n    if (token) {\n      setToken(token);\n      setToLocalStorage(TOKEN_STORAGE_KEY, token);\n    } else {\n      setToken(getFromLocalStorage(TOKEN_STORAGE_KEY));\n    }\n  }, []);\n\n  return (\n    <div>\n      <a href={reqUrl}>Login with Trello</a>\n      <p>{token}</p>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}